"use strict";let systems;function setup(){createCanvas(windowWidth,windowHeight),systems=[]}function draw(){for(background(0),i=0;i<systems.length;i++)10*Math.random()<=5&&systems[i].addCircle(),systems[i].run();0==systems.length&&(textAlign(CENTER),textSize(42),fill(255),text("CLICK",width/2,height/2))}function mousePressed(){this.c=new CircleGenerator(createVector(mouseX,mouseY)),systems.push(c),systems.length>=5&&systems.shift()}let XCircle=function(t){this.position=t.copy(),this.radius=1,this.lifespan=255,this.red=t.x/(width/252),this.green=0,this.blue=t.y/(height/253)};XCircle.prototype.run=function(){this.update(),this.display()},XCircle.prototype.update=function(){this.lifespan-=1.5,this.radius=this.radius+10,this.red+=1,this.green=128*Math.random(),this.blue+=1},XCircle.prototype.display=function(){stroke(this.red,this.green,this.blue,this.lifespan),strokeWeight(4),noFill(),circle(this.position.x,this.position.y,this.radius)},XCircle.prototype.isDead=function(){return this.lifespan<0};let CircleGenerator=function(t){this.origin=t.copy(),this.circles=[]};CircleGenerator.prototype.addCircle=function(){this.circles.push(new XCircle(this.origin))},CircleGenerator.prototype.run=function(){for(let t=this.circles.length-1;t>=0;t--){let i=this.circles[t];i.run(),(i.isDead()||i.radius>windowWidth)&&this.circles.splice(t,1)}};